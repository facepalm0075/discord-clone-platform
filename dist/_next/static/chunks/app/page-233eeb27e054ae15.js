(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1168:function(e,t,l){Promise.resolve().then(l.bind(l,1421))},1421:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return eU}});var n=l(7437),r=l(2265),s=function(e){let{children:t}=e,[l,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{s(!0)},[]),(0,n.jsx)(n.Fragment,{children:l&&t})},o=l(1444),a=l(5040);let i=()=>JSON.parse(localStorage.getItem("name"));function c(e){return{getLocalState:t=>{{let t=localStorage.getItem(e);if(t)return JSON.parse(t)}return t},localStateSaver:t=>{localStorage.setItem(e,JSON.stringify(t))}}}var u=l(6862);let d=c("outputVolume"),m=c("micensitivity"),x={isMuted:!1,isConnected:!1,isDeafen:!1,rooms:[],joinedRoom:null,joinedRoomUsers:[],isTalking:!1,outputVolume:d.getLocalState(1),micensitivity:m.getLocalState(-50)},f=(0,u.oM)({name:"mainStatusState",initialState:x,reducers:{setIsConnected(e,t){e.isConnected=t.payload},setIsMuted(e,t){e.isMuted=t.payload},setIsDeafen(e,t){e.isDeafen=t.payload},toggleIsMuted(e,t){e.isMuted?e.isMuted=!1:e.isMuted=!0},toggleIsDeafen(e,t){e.isDeafen?e.isDeafen=!1:e.isDeafen=!0},setRooms(e,t){e.rooms=t.payload},setJoinedRoom(e,t){e.joinedRoom=t.payload},setJoinedRoomUsers(e,t){e.joinedRoomUsers=t.payload},setIsTalking(e,t){e.isTalking=t.payload},setOutputVolume(e,t){e.outputVolume=t.payload,d.localStateSaver(e.outputVolume)},setMicSensitivity(e,t){e.micensitivity=t.payload,m.localStateSaver(e.micensitivity)}}}),{setIsConnected:h,setIsMuted:p,setIsDeafen:v,toggleIsMuted:g,toggleIsDeafen:j,setJoinedRoom:b,setRooms:S,setJoinedRoomUsers:y,setIsTalking:N,setOutputVolume:C,setMicSensitivity:k}=f.actions;var w=f.reducer;let E=e=>{let[t,l]=(0,r.useState)(null),n=(0,o.I0)();return(0,r.useEffect)(()=>{fetch("http://192.168.1.8:3003/get-rooms",{method:"GET"}).then(e=>{e.json().then(e=>{n(S(JSON.parse(e).message))})})},[t]),{socket:t,socketConnect:()=>{l((0,a.ZP)(e))}}},A=async(e,t)=>{e.audioStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:24e3}}),e.audioContext=new AudioContext({sampleRate:24e3});let l=e.audioContext.createMediaStreamSource(e.audioStream);e.soundApiNode=e.audioContext.createScriptProcessor(256,1,1),l.connect(e.soundApiNode),e.soundApiNode.connect(e.audioContext.destination),e.soundApiNode.onaudioprocess=e=>{t(e.inputBuffer.getChannelData(0))}},F=async(e,t,l,n)=>{try{if(e.audioStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:24e3}}),e.audioContext=new AudioContext({sampleRate:24e3}),!e.audioContext.audioWorklet){console.error("Audio Worklet is not supported in this browser.");return}await e.audioContext.audioWorklet.addModule("audioProcessor.js"),e.soundApiNode=new AudioWorkletNode(e.audioContext,"audio-processor"),e.audioContext.createMediaStreamSource(e.audioStream).connect(e.soundApiNode),e.soundApiNode.connect(e.audioContext.destination),e.soundApiNode.port.postMessage({thresholdDb:n}),e.soundApiNode.port.onmessage=e=>{let{audioData:n,onStop:r}=e.data;r?l():t(n)}}catch(e){console.log("cant get mic accsess")}},I=()=>"undefined"!=typeof navigator&&/firefox/i.test(navigator.userAgent);async function R(e,t,l,n){!function(){try{return!!new(window.AudioContext||window.webkitAudioContext)().audioWorklet}catch(e){return console.error("Error while checking AudioWorklet support:",e),!1}}()?(console.error("AudioWorklet is not supported in this browser."),A(e,t)):(console.log("AudioWorklet is supported!"),I()?A(e,t):F(e,t,l,n)),console.log("Recording started.")}let T=o.I0.withTypes(),M=o.v9.withTypes();o.oR.withTypes();let{Encoder:D}=l(7969),O={audioContext:null,audioStream:null,soundApiNode:null},W=!1,V=null,U=-50,z=new D({rate:24e3,channels:1}),J=[],B=e=>{let t=M(e=>e.mainStatusSlice.isMuted),l=M(e=>e.mainStatusSlice.isConnected),n=M(e=>e.mainStatusSlice.joinedRoom),s=M(e=>e.mainStatusSlice.micensitivity);U=s;let o=T(),a=(0,r.useRef)();V=n,W=t;let c=i(),u=()=>{o(N(!0)),void 0!==a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{o(N(!1))},250)},d=t=>{if(!W)for(J.push(...t);J.length>=480;){let t=J.slice(0,480);J=J.slice(480);let l=z.encode(new Float32Array(t));console.log(t),null==e||e.emit("audio-input",l,V,c),u()}},m=()=>{W||null==e||e.emit("audio-input-cancel",V,c)};(0,r.useEffect)(()=>{l?(J=[],R(O,d,m,U)):(J=[],console.log("Stopping the recorder."),O.audioStream&&(O.audioStream.getTracks().forEach(e=>e.stop()),O.audioStream=null,console.log("Stopped all tracks in the stream")),O.audioContext&&(O.audioContext.close(),O.audioContext=null,console.log("Closed the audio context")),O.soundApiNode&&(O.soundApiNode.disconnect(),O.soundApiNode=null,console.log("The worklet node disconnected")))},[l]),(0,r.useEffect)(()=>{O.soundApiNode&&O.soundApiNode instanceof AudioWorkletNode&&O.soundApiNode.port.postMessage({thresholdDb:U})},[s])},L=!1,P=1;var q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L=M(e=>e.mainStatusSlice.isDeafen),P=M(e=>e.mainStatusSlice.outputVolume);let t=(0,r.useRef)(null),l=(0,r.useRef)(new Map),[n,s]=(0,r.useState)(e.sampleRate||24e3),[o,a]=(0,r.useState)(e.bufferThreshold||24e3);(0,r.useEffect)(()=>(t.current||(t.current=new AudioContext({sampleRate:24e3}),s(24e3),a(12e3)),()=>{t.current&&(t.current.close(),t.current=null)}),[]);let i=(e,t)=>{if(L){l.current.clear();return}l.current.has(t)||l.current.set(t,[]);let n=l.current.get(t);n&&n.push(e)},c=(0,r.useCallback)((e,t)=>{i(e,t);let n=l.current.get(t);n&&n.reduce((e,t)=>e+t.length,0)>=o&&u(t)},[o,P]),u=(0,r.useCallback)(e=>{if(!t.current)return;let r=t.current,s=r.createGain();s.gain.value=P,s.connect(r.destination),"suspended"===r.state&&r.resume().then(()=>{console.log("AudioContext resumed")}).catch(e=>{console.error("Failed to resume AudioContext",e)});let o=l.current.get(e);if(!o||0===o.length)return;let a=new Float32Array(o.reduce((e,t)=>e+t.length,0)),i=0;o.forEach(e=>{a.set(e,i),i+=e.length}),l.current.set(e,[]);let c=r.createBuffer(1,a.length,n);c.copyToChannel(a,0);let d=r.createBufferSource();d.buffer=c,d.connect(s),d.start(),d.onended=()=>{let t=l.current.get(e);t&&t.length>0&&u(e)}},[n,P]);return{pushAudioData:c,removeBufferByName:(0,r.useCallback)(e=>{l.current.has(e)&&l.current.delete(e)},[])}},Z=l(6300).Buffer;let{Decoder:H}=l(7969),_=!1,G=new H({rate:24e3,channels:1}),Q=e=>{_=M(e=>e.mainStatusSlice.isConnected);let{pushAudioData:t,removeBufferByName:l}=q({sampleRate:24e3,bufferThreshold:24e3});(0,r.useEffect)(()=>{null==e||e.on("audio-data",(e,l)=>{_&&t(G.decodeFloat32(Z.from(e)),l.clientId)}),null==e||e.on("audio-input-canceled",e=>{l(e.clientId)})},[e])};var K=l(3781),X=l(6356),$=l(7692);let Y=e=>{let[t,l]=(0,r.useState)(!1),n=(0,r.useRef)(null),s=(0,r.useRef)(null),o=(0,r.useRef)(null),a=(0,r.useCallback)(async()=>{if(!s.current)try{n.current||(n.current=new AudioContext);let t=await fetch(e),l=await t.arrayBuffer(),r=await n.current.decodeAudioData(l);s.current=r}catch(e){console.error("Error loading audio file:",e)}},[e]),i=(0,r.useCallback)(async()=>{if(s.current||await a(),!s.current||!n.current)return;let e=n.current.createBufferSource();e.buffer=s.current,e.connect(n.current.destination),e.start(0),o.current=e,l(!0),e.onended=()=>{l(!1)}},[a]),c=(0,r.useCallback)(()=>{o.current&&(o.current.stop(),o.current=null,l(!1))},[]),u=(0,r.useCallback)(async()=>{t?c():await i()},[t,i,c]);return{isPlaying:t,playAudio:i,stopAudio:c,toggleAudio:u}},ee=()=>{let e=Y("/djs.mp3"),t=Y("/dds.mp3");return[()=>{e.playAudio()},()=>{t.playAudio()}]};var et=e=>{let{socket:t}=e,[l,r]=ee(),s=M(e=>e.mainStatusSlice.isMuted),o=M(e=>e.mainStatusSlice.isDeafen),a=M(e=>e.mainStatusSlice.isConnected),c=M(e=>e.mainStatusSlice.joinedRoom),u=i(),d=T();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:o?{color:"red"}:{},className:"c-icon",onClick:()=>{d(j()),null==t||t.emit("user-status",{muted:s,deafen:!o})},children:o?(0,n.jsx)(X.WO5,{}):(0,n.jsx)(X.pw2,{})}),(0,n.jsx)("div",{style:s?{color:"red"}:{},className:"c-icon",onClick:()=>{d(g()),null==t||t.emit("user-status",{muted:!s,deafen:o}),null==t||t.emit("audio-input-cancel",c,u)},children:s?(0,n.jsx)(K.C4C,{}):(0,n.jsx)(K.OnQ,{})}),a&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"c-icon dc-icon",onClick:()=>{d(b(null)),null==t||t.emit("leave-joined-rooms"),d(h(!1)),r()},children:(0,n.jsx)($.XL$,{})})})]})},el=function(e){let{status:t}=e;return(0,n.jsxs)("div",{className:"flex ml-auto gap-2 pr-2",children:[t.deafen&&(0,n.jsx)("span",{children:(0,n.jsx)(X.WO5,{})}),t.muted&&(0,n.jsx)("span",{children:(0,n.jsx)(K.C4C,{})})]})},en=function(e){let{socket:t,userName:l}=e,[s,o]=(0,r.useState)(0),[a,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(()=>i()),m=(0,r.useRef)(u),x=(0,r.useRef)(a),f=(0,r.useRef)(),h=M(e=>e.mainStatusSlice.isTalking),p=()=>{x.current&&(c(!1),x.current=!1,o(e=>e+1))},v=()=>{x.current||(c(!0),x.current=!0,o(e=>e+1))},g=e=>{l.clientId===e&&(x.current?(clearTimeout(f.current),f.current=setTimeout(()=>{p()},250)):v())},j=()=>{h?v():p()};return(0,r.useEffect)(()=>{l.clientId!==m.current.clientId&&(null==t||t.on("audio-data",(e,t)=>{g(t.clientId)}),null==t||t.on("audio-input-canceled",e=>{l.clientId===e.clientId&&p()}))},[t]),(0,r.useEffect)(()=>{l.clientId===m.current.clientId&&j()},[h]),(0,n.jsx)("div",{style:a?{boxShadow:"0 0 0 2px lightGreen"}:{},className:"mr-2 rounded-full w-6 h-6 bg-neutral-500 flex justify-center items-center",children:(0,n.jsx)("span",{className:"text-white text-sm",children:l.userName[0].toUpperCase()})})},er=l(1109);let es=null,eo={},ea=[],ei=(e,t)=>(null==e?void 0:e.length)>(null==t?void 0:t.length)?1:(null==e?void 0:e.length)<(null==t?void 0:t.length)?0:2;var ec=function(e){let{socket:t}=e,[l,s]=(0,r.useState)(ea),[o,a]=ee(),c=M(e=>e.mainStatusSlice.rooms);es=M(e=>e.mainStatusSlice.joinedRoom);let u=M(e=>e.mainStatusSlice.isMuted),d=M(e=>e.mainStatusSlice.isDeafen),m=i(),[x,f]=(0,r.useState)(0),p=T(),v=e=>{es!==e&&(p(b(e)),null==t||t.emit("join-to",e,m,{muted:u,deafen:d}),p(h(!0)),f(e=>e+1))},g=e=>{e?o():a()},j=e=>{eo=e,f(e=>e+1);let t=[];if(es){var l;null===(l=e[es])||void 0===l||l.forEach(e=>{t.push(e.name)})}s(t)};return(0,r.useEffect)(()=>{null==t||t.on("rooms-status-changed",e=>{if(es&&e[es]){let t=ei(e[es],eo[es]);2!==t&&g(t)}j(e)}),null==t||t.on("user-status-changed",e=>{eo=e,f(e=>e+1)}),null==t||t.on("rooms-status",e=>{j(e)}),null==t||t.emit("get-rooms-status")},[t]),(0,r.useEffect)(()=>{p(y(l))},[l]),(0,n.jsxs)("div",{style:{backgroundColor:"var(--n-800)"},className:"min-w-64 w-64 p-3 h-full overflow-y-auto",children:[(0,n.jsx)("h2",{style:{color:"var(--black-white)"},className:"text-center block mb-4 font-bold",children:"..:: Voice Rooms ::.."}),null==c?void 0:c.map((e,l)=>{var r;return(0,n.jsxs)("div",{onClick:()=>v(e),children:[(0,n.jsxs)("div",{className:"flex gap-2 my-3 cursor-pointer",children:[(0,n.jsx)("div",{children:(0,n.jsx)(er.MVT,{className:"text-2xl"})}),(0,n.jsxs)("div",{children:[" ",e]})]}),(0,n.jsx)("div",{className:"pl-6",children:null===(r=eo[e])||void 0===r?void 0:r.map(e=>(0,n.jsxs)("div",{className:"flex my-2 items-center",children:[(0,n.jsx)(en,{socket:t,userName:e.name}),(0,n.jsx)("span",{className:"text-sm",children:e.name.userName}),(0,n.jsx)(el,{status:e.status})]},e.name.clientId))})]},l)})]})},eu=function(e){let{socket:t}=e,[l,s]=(0,r.useState)([]),[o,a]=(0,r.useState)(""),c=i(),u=M(e=>e.mainStatusSlice.joinedRoom),d=(0,r.useRef)(null),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];setTimeout(()=>{let l=d.current;if(l){if(t){l.scrollTop=l.scrollHeight;return}l.scrollTop+l.offsetHeight+e>=l.scrollHeight&&(l.scrollTop=l.scrollHeight)}},10)},x=(e,t,l)=>(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex gap-1 my-1 ".concat(l&&"justify-end"),children:[!l&&(0,n.jsx)("div",{style:{backgroundColor:"var(--n-800)"},className:"mt-auto rounded-full flex justify-center items-center h-8 w-8 min-w-8 min-h-8 font-bold",children:e.from[0].toUpperCase()}),(0,n.jsxs)("div",{style:{maxWidth:"80%",backgroundColor:l?"var(--n-600)":"var(--n-700)"},className:"p-2 rounded-lg",children:[(0,n.jsx)("div",{style:{color:"var(--black-white)"},className:" font-bold text-sm",children:e.from}),(0,n.jsx)("div",{className:"break-words",children:e.text})]}),l&&(0,n.jsx)("div",{style:{backgroundColor:"var(--n-800)"},className:"mt-auto rounded-full flex justify-center items-center h-8 w-8 min-w-8 min-h-8 font-bold",children:e.from[0].toUpperCase()})]})},t);(0,r.useEffect)(()=>{null==t||t.on("get-message",(e,t)=>{s(l=>[...l,{from:e.userName,text:t,self:!1}]),m()})},[t]);let f=()=>{null==t||t.emit("send-message",c,o,u),s(e=>[...e,{from:c.userName,text:o,self:!0}]),a(""),m()};return(0,n.jsxs)("div",{style:{backgroundColor:"var(--n-750)"},className:"h-full relative flex flex-col min-w-72",children:[(0,n.jsxs)("div",{style:{backgroundColor:"var(--n-600)"},className:" p-2 mb-2 font-bold text-sm",children:[u," Text Chat"]}),(0,n.jsx)("div",{ref:d,className:" px-2 overflow-y-auto flex-1 relative",children:0===l.length?(0,n.jsx)("div",{style:{backgroundColor:"var(--n-800)"},className:"center-screen rounded-md px-3 py-1 text-sm",children:"No message yet..."}):l.map((e,t)=>x(e,t,e.self))}),(0,n.jsx)("div",{className:"p-4 w-full ",children:(0,n.jsx)("input",{style:{borderColor:"var(--n-400)",backgroundColor:"var(--n-600)",color:"var(--black-white)"},spellCheck:"false",className:"w-full py-1 px-2 rounded border outline-none",placeholder:"Message",type:"text",value:o,onChange:e=>{a(e.target.value)},onKeyDown:e=>{13===e.keyCode&&f()}})})]})},ed=l(9824),em=l(3872);let ex=(0,r.createContext)(void 0),ef=e=>{let{children:t}=e,[l,s]=(0,r.useState)("dark");(0,r.useEffect)(()=>{null!==localStorage.getItem("selectedTheme")&&("dark"===localStorage.getItem("selectedTheme")?o("dark"):o("light"))},[]);let o=e=>{var t;null===(t=document.querySelector("body"))||void 0===t||t.setAttribute("data-theme",e),localStorage.setItem("selectedTheme",e),s(e)};return(0,n.jsx)(ex.Provider,{value:{theme:l,toggleTheme:()=>{"dark"==l?o("light"):o("dark")}},children:t})},eh=()=>{let e=(0,r.useContext)(ex);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e};var ep=function(){let{theme:e,toggleTheme:t}=eh();return(0,n.jsx)("a",{onClick:t,className:"button ml-auto",children:"dark"===e?(0,n.jsx)(em.Mei,{}):(0,n.jsx)(K.gxG,{})})},ev=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,[l,n]=(0,r.useState)(()=>{try{let l=localStorage.getItem(e);return l?JSON.parse(l):t}catch(l){return console.error("Error reading localStorage key:",e,l),t}});return(0,r.useEffect)(()=>{let l=()=>{try{let l=localStorage.getItem(e);n(l?JSON.parse(l):t)}catch(t){console.error("Error handling storage change for key:",e,t)}};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[e,t]),[l,t=>{try{null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),n(t)}catch(t){console.error("Error setting localStorage key:",e,t)}}]};let eg=()=>({userName:"",clientId:""});var ej=function(){let[e,t]=ev("name",eg()),[l,s]=(0,r.useState)(null==e?void 0:e.userName),[o,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{l&&e&&(e.userName!==l&&l.length>=3&&l.length<=15?a(!0):a(!1))},[l]),(0,n.jsxs)("div",{className:"flex pl-3 relative",children:[(0,n.jsx)("input",{style:{borderColor:"var(--n-400)",backgroundColor:"var(--n-800)"},type:"text",className:"w-full border rounded-lg pl-2 pr-12",placeholder:"",value:l,onChange:e=>{s(e.currentTarget.value)},spellCheck:"false"}),(0,n.jsx)("div",{style:{color:o?"var(--background-color)":"var(--n-700)",backgroundColor:o?"var(--foreground-color)":"var(--n-400)",paddingTop:"1px",transition:"all 0.3s",cursor:o?"pointer":"default",pointerEvents:o?"auto":"none"},className:"absolute right-0 text-sm font-bold h-full rounded-r-lg px-1",onClick:()=>{window.confirm("Do you want to refresh the page?")?(e&&t({...e,userName:l}),window.location.reload()):s(null==e?void 0:e.userName)},children:"save"})]})},eb=()=>{let[e,t]=(0,r.useState)(!1);return{isFullscreen:e,toggleFullscreen:()=>{let l=document.documentElement;e?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t(!1)):(l.requestFullscreen?l.requestFullscreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.msRequestFullscreen&&l.msRequestFullscreen(),t(!0))},exitFullscreen:()=>{e&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t(!1))}}},eS=function(){let{toggleFullscreen:e,isFullscreen:t}=eb();return(0,n.jsx)("a",{style:{fontSize:"25px"},onClick:()=>{e()},className:"ml-auto button",children:t?(0,n.jsx)(X.bAO,{}):(0,n.jsx)(X.yvD,{})})},ey=l(1538),eN=l(6101),eC=l(5632);function ek(){let e=100*M(e=>e.mainStatusSlice.outputVolume),t=T();return(0,n.jsxs)("div",{className:"flex relative pl-5 gap-1  justify-center items-center",children:[(0,n.jsx)("div",{className:"text-2xl",children:(0,n.jsx)(K.w33,{})}),(0,n.jsx)(ey.Z,{sx:{width:"100%"},children:(0,n.jsx)(eN.Z,{spacing:2,direction:"row",sx:{alignItems:"center"},children:(0,n.jsx)(eC.ZP,{"aria-label":"Volume",max:200,value:e,onChange:(e,l)=>{t(C(l/100))},sx:{color:"var(--foreground-color)","& .MuiSlider-thumb":{backgroundColor:"var(--foreground-color)","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"none"}},"& .MuiSlider-track":{backgroundColor:"var(--foreground-color)"},"& .MuiSlider-rail":{backgroundColor:"var(--n-400)"}}})})}),(0,n.jsx)("div",{className:"text-2xl",children:(0,n.jsx)(K.Uun,{})})]})}let ew=[{value:-70,label:"-70db"},{value:-50,label:"-50db"},{value:-30,label:"-30db"},{value:-10,label:"-10db"}];function eE(){let e=M(e=>e.mainStatusSlice.micensitivity),t=T();return(0,n.jsx)("div",{className:"sens-change",children:(0,n.jsx)(ey.Z,{sx:{width:"100%"},children:(0,n.jsx)(eC.ZP,{min:-70,max:-10,"aria-label":"Custom marks",value:e,step:1,marks:ew,onChange:(e,l)=>{t(k(l))},sx:{"& .MuiSlider-thumb":{"&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"none"}}}})})})}var eA=function(e){let{outClick:t}=e,l=I();return(0,n.jsx)("div",{onMouseDown:e=>{e.target===e.currentTarget&&t()},className:"absolute z-40 bg-opacity-50 bg-black h-full w-full fadeIn flex justify-center items-center",children:(0,n.jsxs)("div",{style:{borderColor:"var(--n-600)",backgroundColor:"var(--n-950)"},className:" cont-full  px-3 py-2 rounded-xl border z-50 fadeInScaleUp",children:[(0,n.jsxs)("div",{style:{borderColor:"var(--n-700)"},className:"flex justify-center items-center mb-4 pb-2 border-b",children:[(0,n.jsx)("span",{style:{color:"var(--n-600)"},className:"text-base",children:"Setting"}),(0,n.jsx)(ed.QAE,{className:"ml-auto cursor-pointer text-xl",onClick:t})]}),(0,n.jsxs)("div",{className:"setting-items",children:[(0,n.jsx)("span",{children:"Appearance:"}),(0,n.jsx)(ep,{})]}),(0,n.jsxs)("div",{className:"setting-items",children:[(0,n.jsx)("span",{children:"Fullscreen:"}),(0,n.jsx)("div",{className:"ml-auto",children:(0,n.jsx)(eS,{})})]}),(0,n.jsxs)("div",{className:"setting-items my-2",children:[(0,n.jsx)("span",{children:"Username:"}),(0,n.jsx)("div",{className:"ml-auto flex-1 ",children:(0,n.jsx)(ej,{})})]}),(0,n.jsxs)("div",{className:"setting-items mb-2",children:[(0,n.jsx)("span",{className:"inline-block",children:"Output Vol:"}),(0,n.jsx)("div",{className:"ml-auto flex-1",children:(0,n.jsx)(ek,{})})]}),(0,n.jsxs)("div",{style:l?{}:{display:"block"},className:"setting-items",children:[(0,n.jsx)("span",{className:"inline-block".concat(!l&&" mb-1"),children:"Mic Sensitivity:"}),l?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"ml-auto flex-1 text-sm text-right",children:"Not available in Firefox"})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"px-5",children:(0,n.jsx)(eE,{})})})]})]})})},eF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:640,[t,l]=(0,r.useState)(window.innerWidth<e);return(0,r.useEffect)(()=>{let t=()=>{l(window.innerWidth<e)};return window.addEventListener("resize",t),t(),()=>{window.removeEventListener("resize",t)}},[e]),t},eI=l(5097),eR=function(){let e=eF(),[t,l]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1),{socket:a,socketConnect:i}=E("http://192.168.1.8:3003/chat");(0,r.useEffect)(()=>{i()},[]);let c=M(e=>e.mainStatusSlice.joinedRoom);B(a),Q(a);let u=()=>{o(!s)};return(0,r.useEffect)(()=>{c||l(!1)},[c]),(0,r.useEffect)(()=>{e||l(!1)},[e]),(0,n.jsxs)(n.Fragment,{children:[s&&(0,n.jsx)(eA,{outClick:u}),(0,n.jsxs)("div",{className:"flex flex-col w-full h-full max-h-full absolute",children:[(0,n.jsx)("div",{style:{maxHeight:"calc(100% - 71px)"},className:"flex-1 py-4",children:(0,n.jsxs)("div",{style:{margin:"auto",width:"96%",maxWidth:"1600px",borderColor:"var(--n-600)"},className:"chat-channels-container flex justify-center rounded-xl overflow-hidden border h-full",children:[(0,n.jsxs)("div",{style:{width:t?"60px":"256px",transition:"all 0.3s"},className:"channels-container relative",children:[e&&t&&c&&(0,n.jsx)("div",{className:"absolute w-full h-full z-10 bg-black bg-opacity-65 fadeIn"}),(0,n.jsx)(ec,{socket:a})]}),(0,n.jsxs)("div",{style:{width:"70px"},className:"chat-container flex-1 relative",children:[e&&c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onClick:()=>{l(!t)},style:{backgroundColor:"var(--n-800)",color:"var(--foreground-color)",borderColor:"var(--n-600)",transform:"".concat(t?"translate(-40px,0px)":"")},className:"absolute left-0 z-20 top-1/2 text-3xl h-14 w-10 flex justify-center items-center border ".concat(t?"rounded-l-xl border-r-0":"rounded-r-xl border-l-0"),children:t?(0,n.jsx)(er.MVT,{}):(0,n.jsx)(eI.jJE,{})}),!t&&(0,n.jsx)("div",{className:"absolute w-full h-full z-10 bg-black bg-opacity-65 fadeIn"})]}),c?(0,n.jsx)(eu,{socket:a},c):(0,n.jsx)(n.Fragment,{})]})]})}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("div",{style:{borderColor:"var(--n-700)",backgroundColor:"var(--n-900)"},className:"flex py-4 w-80 rounded-t-3xl border md:border-b-0 max-sm:rounded-3xl",children:[(0,n.jsx)("div",{style:{fontSize:"27px",borderColor:"var(--n-600)"},className:"border-r p-1 px-4 ",children:(0,n.jsx)(ed.rzH,{className:"cursor-pointer",onClick:u})}),(0,n.jsx)("div",{className:"flex-1 flex justify-center items-center",children:(0,n.jsx)(et,{socket:a})})]})})]})]})},eT=function(e){let{callback:t}=e,[l,s]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{l.length>=3&&l.length<=15?a(!0):a(!1)},[l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"text",value:l,style:{borderColor:"var(--n-400)",backgroundColor:"var(--n-800)"},className:"w-full border rounded-lg px-3 py-1",placeholder:"Username...",spellCheck:"false",onChange:e=>s(e.currentTarget.value)}),(0,n.jsx)("div",{style:{color:o?"var(--background-color)":"var(--n-700)",backgroundColor:o?"var(--foreground-color)":"var(--n-400)",paddingTop:"1px",transition:"all 0.3s",cursor:o?"pointer":"default",pointerEvents:o?"auto":"none"},className:"text-sm font-bold rounded-lg px-3 py-1 inline-block mt-4",onClick:()=>{t(l)},children:"Submit"})]})},eM=l(8590);let eD=()=>({userName:"",clientId:""});var eO=function(e){let{children:t}=e,[l,r]=ev("name",eD());return(0,n.jsx)(n.Fragment,{children:l&&l.userName&&""!==l.userName?t:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"center-screen cont-full px-2",children:[(0,n.jsx)("p",{className:"mb-3",children:"Enter your name to join the server."}),(0,n.jsx)(eT,{callback:e=>{r({userName:e,clientId:(0,eM.Z)()})}})]})})})};let eW=(0,u.xC)({reducer:{mainStatusSlice:w}});var eV=function(e){let{children:t}=e;return(0,n.jsx)(o.zt,{store:eW,children:t})};function eU(){return(0,n.jsx)(eV,{children:(0,n.jsx)(s,{children:(0,n.jsx)(eO,{children:(0,n.jsx)(ef,{children:(0,n.jsx)(eR,{})})})})})}}},function(e){e.O(0,[665,51,452,706,516,240,779,474,215,971,23,744],function(){return e(e.s=1168)}),_N_E=e.O()}]);