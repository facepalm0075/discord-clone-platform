(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1168:function(e,t,n){Promise.resolve().then(n.bind(n,1421))},1421:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eD}});var l=n(7437),r=n(2265),s=function(e){let{children:t}=e,[n,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{s(!0)},[]),(0,l.jsx)(l.Fragment,{children:n&&t})},o=n(1444),a=n(5040);let i=()=>{let e=new AudioContext,t=e.sampleRate;return e.close(),t},c=()=>JSON.parse(localStorage.getItem("name"));function u(e){return{getLocalState:t=>{{let t=localStorage.getItem(e);if(t)return JSON.parse(t)}return t},localStateSaver:t=>{localStorage.setItem(e,JSON.stringify(t))}}}var d=n(6862);let m=u("outputVolume"),x=u("micensitivity"),f={isMuted:!1,isConnected:!1,isDeafen:!1,rooms:[],joinedRoom:null,joinedRoomUsers:[],isTalking:!1,outputVolume:m.getLocalState(1),micensitivity:x.getLocalState(-50)},h=(0,d.oM)({name:"mainStatusState",initialState:f,reducers:{setIsConnected(e,t){e.isConnected=t.payload},setIsMuted(e,t){e.isMuted=t.payload},setIsDeafen(e,t){e.isDeafen=t.payload},toggleIsMuted(e,t){e.isMuted?e.isMuted=!1:e.isMuted=!0},toggleIsDeafen(e,t){e.isDeafen?e.isDeafen=!1:e.isDeafen=!0},setRooms(e,t){e.rooms=t.payload},setJoinedRoom(e,t){e.joinedRoom=t.payload},setJoinedRoomUsers(e,t){e.joinedRoomUsers=t.payload},setIsTalking(e,t){e.isTalking=t.payload},setOutputVolume(e,t){e.outputVolume=t.payload,m.localStateSaver(e.outputVolume)},setMicSensitivity(e,t){e.micensitivity=t.payload,x.localStateSaver(e.micensitivity)}}}),{setIsConnected:p,setIsMuted:g,setIsDeafen:v,toggleIsMuted:j,toggleIsDeafen:b,setJoinedRoom:S,setRooms:y,setJoinedRoomUsers:N,setIsTalking:C,setOutputVolume:k,setMicSensitivity:w}=h.actions;var E=h.reducer;let A=e=>{let[t,n]=(0,r.useState)(null),l=(0,o.I0)();return(0,r.useEffect)(()=>{fetch("http://discord.pouyaprogramming.ir/get-rooms",{method:"GET"}).then(e=>{e.json().then(e=>{l(y(JSON.parse(e).message))})})},[t]),{socket:t,socketConnect:()=>{n((0,a.ZP)(e))}}},F=async(e,t)=>{e.audioStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0}}),e.audioContext=new AudioContext;let n=e.audioContext.createMediaStreamSource(e.audioStream);e.soundApiNode=e.audioContext.createScriptProcessor(256,1,1),n.connect(e.soundApiNode),e.soundApiNode.connect(e.audioContext.destination),e.soundApiNode.onaudioprocess=e=>{t(e.inputBuffer.getChannelData(0))}},I=async(e,t,n,l)=>{try{if(e.audioStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0}}),e.audioContext=new AudioContext,!e.audioContext.audioWorklet){console.error("Audio Worklet is not supported in this browser.");return}await e.audioContext.audioWorklet.addModule("audioProcessor.js"),e.soundApiNode=new AudioWorkletNode(e.audioContext,"audio-processor"),e.audioContext.createMediaStreamSource(e.audioStream).connect(e.soundApiNode),e.soundApiNode.connect(e.audioContext.destination),e.soundApiNode.port.postMessage({thresholdDb:l}),e.soundApiNode.port.onmessage=e=>{let{audioData:l,onStop:r}=e.data;r?n():t(l)}}catch(e){console.log("cant get mic accsess")}},T=()=>"undefined"!=typeof navigator&&/firefox/i.test(navigator.userAgent);async function M(e,t,n,l){!function(){try{return!!new(window.AudioContext||window.webkitAudioContext)().audioWorklet}catch(e){return console.error("Error while checking AudioWorklet support:",e),!1}}()?(console.error("AudioWorklet is not supported in this browser."),F(e,t)):(console.log("AudioWorklet is supported!"),T()?F(e,t):I(e,t,n,l)),console.log("Recording started.")}let R=o.I0.withTypes(),D=o.v9.withTypes();o.oR.withTypes();let O=[],W={audioContext:null,audioStream:null,soundApiNode:null},V=!1,U=null,z=-50,J=e=>{let t=D(e=>e.mainStatusSlice.isMuted),n=D(e=>e.mainStatusSlice.isConnected),l=D(e=>e.mainStatusSlice.joinedRoom),s=D(e=>e.mainStatusSlice.micensitivity);z=s;let o=R(),a=(0,r.useRef)();U=l,V=t;let i=c(),u=()=>{o(C(!0)),void 0!==a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{o(C(!1))},250)},d=t=>{if(!V&&(O.push(t),O.length>=20)){let n=function(e,t){let n=new Float32Array(t),l=0;return e.forEach(e=>{let t=new Float32Array(e);n.set(t,l),l+=t.length}),n}(O.splice(0,20),20*t.length);null==e||e.emit("audio-input",n,U,i),u()}},m=()=>{V||null==e||e.emit("audio-input-cancel",U,i)};(0,r.useEffect)(()=>{n?(O=[],M(W,d,m,z)):(O=[],console.log("Stopping the recorder."),W.audioStream&&(W.audioStream.getTracks().forEach(e=>e.stop()),W.audioStream=null,console.log("Stopped all tracks in the stream")),W.audioContext&&(W.audioContext.close(),W.audioContext=null,console.log("Closed the audio context")),W.soundApiNode&&(W.soundApiNode.disconnect(),W.soundApiNode=null,console.log("The worklet node disconnected")))},[n]),(0,r.useEffect)(()=>{W.soundApiNode&&W.soundApiNode instanceof AudioWorkletNode&&W.soundApiNode.port.postMessage({thresholdDb:z})},[s])},L=!1,P=1;var q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L=D(e=>e.mainStatusSlice.isDeafen),P=D(e=>e.mainStatusSlice.outputVolume);let t=(0,r.useRef)(null),n=(0,r.useRef)(new Map),[l,s]=(0,r.useState)(e.sampleRate||48e3),[o,a]=(0,r.useState)(e.bufferThreshold||48e3);(0,r.useEffect)(()=>{if(!t.current){t.current=new AudioContext;let e=i();s(e),a(e/2)}return()=>{t.current&&(t.current.close(),t.current=null)}},[]);let c=(e,t)=>{if(L){n.current.clear();return}n.current.has(t)||n.current.set(t,[]);let l=n.current.get(t);l&&l.push(e)},u=(0,r.useCallback)((e,t)=>{c(e,t);let l=n.current.get(t);l&&l.reduce((e,t)=>e+t.length,0)>=o&&d(t)},[o,P]),d=(0,r.useCallback)(e=>{if(!t.current)return;let r=t.current,s=r.createGain();s.gain.value=P,s.connect(r.destination),"suspended"===r.state&&r.resume().then(()=>{console.log("AudioContext resumed")}).catch(e=>{console.error("Failed to resume AudioContext",e)});let o=n.current.get(e);if(!o||0===o.length)return;let a=new Float32Array(o.reduce((e,t)=>e+t.length,0)),i=0;o.forEach(e=>{a.set(e,i),i+=e.length}),n.current.set(e,[]);let c=r.createBuffer(1,a.length,l);c.copyToChannel(a,0);let u=r.createBufferSource();u.buffer=c,u.connect(s),u.start(),u.onended=()=>{let t=n.current.get(e);t&&t.length>0&&d(e)}},[l,P]);return{pushAudioData:u,removeBufferByName:(0,r.useCallback)(e=>{n.current.has(e)&&n.current.delete(e)},[])}};let B=!1,Z=e=>{B=D(e=>e.mainStatusSlice.isConnected);let{pushAudioData:t,removeBufferByName:n}=q({sampleRate:48e3,bufferThreshold:48e3});(0,r.useEffect)(()=>{null==e||e.on("audio-data",(e,n)=>{B&&t(new Float32Array(e),n.clientId)}),null==e||e.on("audio-input-canceled",e=>{n(e.clientId)})},[e])};var H=n(3781),_=n(6356),G=n(7692);let Q=e=>{let[t,n]=(0,r.useState)(!1),l=(0,r.useRef)(null),s=(0,r.useRef)(null),o=(0,r.useRef)(null),a=(0,r.useCallback)(async()=>{if(!s.current)try{l.current||(l.current=new AudioContext);let t=await fetch(e),n=await t.arrayBuffer(),r=await l.current.decodeAudioData(n);s.current=r}catch(e){console.error("Error loading audio file:",e)}},[e]),i=(0,r.useCallback)(async()=>{if(s.current||await a(),!s.current||!l.current)return;let e=l.current.createBufferSource();e.buffer=s.current,e.connect(l.current.destination),e.start(0),o.current=e,n(!0),e.onended=()=>{n(!1)}},[a]),c=(0,r.useCallback)(()=>{o.current&&(o.current.stop(),o.current=null,n(!1))},[]),u=(0,r.useCallback)(async()=>{t?c():await i()},[t,i,c]);return{isPlaying:t,playAudio:i,stopAudio:c,toggleAudio:u}},K=()=>{let e=Q("/djs.mp3"),t=Q("/dds.mp3");return[()=>{e.playAudio()},()=>{t.playAudio()}]};var X=e=>{let{socket:t}=e,[n,r]=K(),s=D(e=>e.mainStatusSlice.isMuted),o=D(e=>e.mainStatusSlice.isDeafen),a=D(e=>e.mainStatusSlice.isConnected),i=D(e=>e.mainStatusSlice.joinedRoom),u=c(),d=R();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:o?{color:"red"}:{},className:"c-icon",onClick:()=>{d(b()),null==t||t.emit("user-status",{muted:s,deafen:!o})},children:o?(0,l.jsx)(_.WO5,{}):(0,l.jsx)(_.pw2,{})}),(0,l.jsx)("div",{style:s?{color:"red"}:{},className:"c-icon",onClick:()=>{d(j()),null==t||t.emit("user-status",{muted:!s,deafen:o}),null==t||t.emit("audio-input-cancel",i,u)},children:s?(0,l.jsx)(H.C4C,{}):(0,l.jsx)(H.OnQ,{})}),a&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"c-icon dc-icon",onClick:()=>{d(S(null)),null==t||t.emit("leave-joined-rooms"),d(p(!1)),r()},children:(0,l.jsx)(G.XL$,{})})})]})},$=function(e){let{status:t}=e;return(0,l.jsxs)("div",{className:"flex ml-auto gap-2 pr-2",children:[t.deafen&&(0,l.jsx)("span",{children:(0,l.jsx)(_.WO5,{})}),t.muted&&(0,l.jsx)("span",{children:(0,l.jsx)(H.C4C,{})})]})},Y=function(e){let{socket:t,userName:n}=e,[s,o]=(0,r.useState)(0),[a,i]=(0,r.useState)(!1),[u,d]=(0,r.useState)(()=>c()),m=(0,r.useRef)(u),x=(0,r.useRef)(a),f=(0,r.useRef)(),h=D(e=>e.mainStatusSlice.isTalking),p=()=>{x.current&&(i(!1),x.current=!1,o(e=>e+1))},g=()=>{x.current||(i(!0),x.current=!0,o(e=>e+1))},v=e=>{n.clientId===e&&(x.current?(clearTimeout(f.current),f.current=setTimeout(()=>{p()},250)):g())},j=()=>{h?g():p()};return(0,r.useEffect)(()=>{n.clientId!==m.current.clientId&&(null==t||t.on("audio-data",(e,t)=>{v(t.clientId)}),null==t||t.on("audio-input-canceled",e=>{n.clientId===e.clientId&&p()}))},[t]),(0,r.useEffect)(()=>{n.clientId===m.current.clientId&&j()},[h]),(0,l.jsx)("div",{style:a?{boxShadow:"0 0 0 2px lightGreen"}:{},className:"mr-2 rounded-full w-6 h-6 bg-neutral-500 flex justify-center items-center",children:(0,l.jsx)("span",{className:"text-white text-sm",children:n.userName[0].toUpperCase()})})},ee=n(1109);let et=null,en={},el=[],er=(e,t)=>(null==e?void 0:e.length)>(null==t?void 0:t.length)?1:(null==e?void 0:e.length)<(null==t?void 0:t.length)?0:2;var es=function(e){let{socket:t}=e,[n,s]=(0,r.useState)(el),[o,a]=K(),i=D(e=>e.mainStatusSlice.rooms);et=D(e=>e.mainStatusSlice.joinedRoom);let u=D(e=>e.mainStatusSlice.isMuted),d=D(e=>e.mainStatusSlice.isDeafen),m=c(),[x,f]=(0,r.useState)(0),h=R(),g=e=>{et!==e&&(h(S(e)),null==t||t.emit("join-to",e,m,{muted:u,deafen:d}),h(p(!0)),f(e=>e+1))},v=e=>{e?o():a()},j=e=>{en=e,f(e=>e+1);let t=[];if(et){var n;null===(n=e[et])||void 0===n||n.forEach(e=>{t.push(e.name)})}s(t)};return(0,r.useEffect)(()=>{null==t||t.on("rooms-status-changed",e=>{if(et&&e[et]){let t=er(e[et],en[et]);2!==t&&v(t)}j(e)}),null==t||t.on("user-status-changed",e=>{en=e,f(e=>e+1)}),null==t||t.on("rooms-status",e=>{j(e)}),null==t||t.emit("get-rooms-status")},[t]),(0,r.useEffect)(()=>{h(N(n))},[n]),(0,l.jsxs)("div",{style:{backgroundColor:"var(--n-800)"},className:"min-w-64 w-64 p-3 h-full overflow-y-auto",children:[(0,l.jsx)("h2",{style:{color:"var(--black-white)"},className:"text-center block mb-4 font-bold",children:"..:: Voice Rooms ::.."}),null==i?void 0:i.map((e,n)=>{var r;return(0,l.jsxs)("div",{onClick:()=>g(e),children:[(0,l.jsxs)("div",{className:"flex gap-2 my-3 cursor-pointer",children:[(0,l.jsx)("div",{children:(0,l.jsx)(ee.MVT,{className:"text-2xl"})}),(0,l.jsxs)("div",{children:[" ",e]})]}),(0,l.jsx)("div",{className:"pl-6",children:null===(r=en[e])||void 0===r?void 0:r.map(e=>(0,l.jsxs)("div",{className:"flex my-2 items-center",children:[(0,l.jsx)(Y,{socket:t,userName:e.name}),(0,l.jsx)("span",{className:"text-sm",children:e.name.userName}),(0,l.jsx)($,{status:e.status})]},e.name.clientId))})]},n)})]})},eo=function(e){let{socket:t}=e,[n,s]=(0,r.useState)([]),[o,a]=(0,r.useState)(""),i=c(),u=D(e=>e.mainStatusSlice.joinedRoom),d=(0,r.useRef)(null),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];setTimeout(()=>{let n=d.current;if(n){if(t){n.scrollTop=n.scrollHeight;return}n.scrollTop+n.offsetHeight+e>=n.scrollHeight&&(n.scrollTop=n.scrollHeight)}},10)},x=(e,t,n)=>(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"flex gap-1 my-1 ".concat(n&&"justify-end"),children:[!n&&(0,l.jsx)("div",{style:{backgroundColor:"var(--n-800)"},className:"mt-auto rounded-full flex justify-center items-center h-8 w-8 min-w-8 min-h-8 font-bold",children:e.from[0].toUpperCase()}),(0,l.jsxs)("div",{style:{maxWidth:"80%",backgroundColor:n?"var(--n-600)":"var(--n-700)"},className:"p-2 rounded-lg",children:[(0,l.jsx)("div",{style:{color:"var(--black-white)"},className:" font-bold text-sm",children:e.from}),(0,l.jsx)("div",{className:"break-words",children:e.text})]}),n&&(0,l.jsx)("div",{style:{backgroundColor:"var(--n-800)"},className:"mt-auto rounded-full flex justify-center items-center h-8 w-8 min-w-8 min-h-8 font-bold",children:e.from[0].toUpperCase()})]})},t);(0,r.useEffect)(()=>{null==t||t.on("get-message",(e,t)=>{s(n=>[...n,{from:e.userName,text:t,self:!1}]),m()})},[t]);let f=()=>{null==t||t.emit("send-message",i,o,u),s(e=>[...e,{from:i.userName,text:o,self:!0}]),a(""),m()};return(0,l.jsxs)("div",{style:{backgroundColor:"var(--n-750)"},className:"h-full relative flex flex-col min-w-72",children:[(0,l.jsxs)("div",{style:{backgroundColor:"var(--n-600)"},className:" p-2 mb-2 font-bold text-sm",children:[u," Text Chat"]}),(0,l.jsx)("div",{ref:d,className:" px-2 overflow-y-auto flex-1 relative",children:0===n.length?(0,l.jsx)("div",{style:{backgroundColor:"var(--n-800)"},className:"center-screen rounded-md px-3 py-1 text-sm",children:"No message yet..."}):n.map((e,t)=>x(e,t,e.self))}),(0,l.jsx)("div",{className:"p-4 w-full ",children:(0,l.jsx)("input",{style:{borderColor:"var(--n-400)",backgroundColor:"var(--n-600)",color:"var(--black-white)"},spellCheck:"false",className:"w-full py-1 px-2 rounded border outline-none",placeholder:"Message",type:"text",value:o,onChange:e=>{a(e.target.value)},onKeyDown:e=>{13===e.keyCode&&f()}})})]})},ea=n(9824),ei=n(3872);let ec=(0,r.createContext)(void 0),eu=e=>{let{children:t}=e,[n,s]=(0,r.useState)("dark");(0,r.useEffect)(()=>{null!==localStorage.getItem("selectedTheme")&&("dark"===localStorage.getItem("selectedTheme")?o("dark"):o("light"))},[]);let o=e=>{var t;null===(t=document.querySelector("body"))||void 0===t||t.setAttribute("data-theme",e),localStorage.setItem("selectedTheme",e),s(e)};return(0,l.jsx)(ec.Provider,{value:{theme:n,toggleTheme:()=>{"dark"==n?o("light"):o("dark")}},children:t})},ed=()=>{let e=(0,r.useContext)(ec);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e};var em=function(){let{theme:e,toggleTheme:t}=ed();return(0,l.jsx)("a",{onClick:t,className:"button ml-auto",children:"dark"===e?(0,l.jsx)(ei.Mei,{}):(0,l.jsx)(H.gxG,{})})},ex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,[n,l]=(0,r.useState)(()=>{try{let n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.error("Error reading localStorage key:",e,n),t}});return(0,r.useEffect)(()=>{let n=()=>{try{let n=localStorage.getItem(e);l(n?JSON.parse(n):t)}catch(t){console.error("Error handling storage change for key:",e,t)}};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[e,t]),[n,t=>{try{null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),l(t)}catch(t){console.error("Error setting localStorage key:",e,t)}}]};let ef=()=>({userName:"",clientId:""});var eh=function(){let[e,t]=ex("name",ef()),[n,s]=(0,r.useState)(null==e?void 0:e.userName),[o,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{n&&e&&(e.userName!==n&&n.length>=3&&n.length<=15?a(!0):a(!1))},[n]),(0,l.jsxs)("div",{className:"flex pl-3 relative",children:[(0,l.jsx)("input",{style:{borderColor:"var(--n-400)",backgroundColor:"var(--n-800)"},type:"text",className:"w-full border rounded-lg pl-2 pr-12",placeholder:"",value:n,onChange:e=>{s(e.currentTarget.value)},spellCheck:"false"}),(0,l.jsx)("div",{style:{color:o?"var(--background-color)":"var(--n-700)",backgroundColor:o?"var(--foreground-color)":"var(--n-400)",paddingTop:"1px",transition:"all 0.3s",cursor:o?"pointer":"default",pointerEvents:o?"auto":"none"},className:"absolute right-0 text-sm font-bold h-full rounded-r-lg px-1",onClick:()=>{window.confirm("Do you want to refresh the page?")?(e&&t({...e,userName:n}),window.location.reload()):s(null==e?void 0:e.userName)},children:"save"})]})},ep=()=>{let[e,t]=(0,r.useState)(!1);return{isFullscreen:e,toggleFullscreen:()=>{let n=document.documentElement;e?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t(!1)):(n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen(),t(!0))},exitFullscreen:()=>{e&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t(!1))}}},eg=function(){let{toggleFullscreen:e,isFullscreen:t}=ep();return(0,l.jsx)("a",{style:{fontSize:"25px"},onClick:()=>{e()},className:"ml-auto button",children:t?(0,l.jsx)(_.bAO,{}):(0,l.jsx)(_.yvD,{})})},ev=n(1538),ej=n(6101),eb=n(5632);function eS(){let e=100*D(e=>e.mainStatusSlice.outputVolume),t=R();return(0,l.jsxs)("div",{className:"flex relative pl-5 gap-1  justify-center items-center",children:[(0,l.jsx)("div",{className:"text-2xl",children:(0,l.jsx)(H.w33,{})}),(0,l.jsx)(ev.Z,{sx:{width:"100%"},children:(0,l.jsx)(ej.Z,{spacing:2,direction:"row",sx:{alignItems:"center"},children:(0,l.jsx)(eb.ZP,{"aria-label":"Volume",max:200,value:e,onChange:(e,n)=>{t(k(n/100))},sx:{color:"var(--foreground-color)","& .MuiSlider-thumb":{backgroundColor:"var(--foreground-color)","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"none"}},"& .MuiSlider-track":{backgroundColor:"var(--foreground-color)"},"& .MuiSlider-rail":{backgroundColor:"var(--n-400)"}}})})}),(0,l.jsx)("div",{className:"text-2xl",children:(0,l.jsx)(H.Uun,{})})]})}let ey=[{value:-70,label:"-70db"},{value:-50,label:"-50db"},{value:-30,label:"-30db"},{value:-10,label:"-10db"}];function eN(){let e=D(e=>e.mainStatusSlice.micensitivity),t=R();return(0,l.jsx)("div",{className:"sens-change",children:(0,l.jsx)(ev.Z,{sx:{width:"100%"},children:(0,l.jsx)(eb.ZP,{min:-70,max:-10,"aria-label":"Custom marks",value:e,step:1,marks:ey,onChange:(e,n)=>{t(w(n))},sx:{"& .MuiSlider-thumb":{"&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"none"}}}})})})}var eC=function(e){let{outClick:t}=e,n=T();return(0,l.jsx)("div",{onMouseDown:e=>{e.target===e.currentTarget&&t()},className:"absolute z-40 bg-opacity-50 bg-black h-full w-full fadeIn flex justify-center items-center",children:(0,l.jsxs)("div",{style:{borderColor:"var(--n-600)",backgroundColor:"var(--n-950)"},className:" cont-full  px-3 py-2 rounded-xl border z-50 fadeInScaleUp",children:[(0,l.jsxs)("div",{style:{borderColor:"var(--n-700)"},className:"flex justify-center items-center mb-4 pb-2 border-b",children:[(0,l.jsx)("span",{style:{color:"var(--n-600)"},className:"text-base",children:"Setting"}),(0,l.jsx)(ea.QAE,{className:"ml-auto cursor-pointer text-xl",onClick:t})]}),(0,l.jsxs)("div",{className:"setting-items",children:[(0,l.jsx)("span",{children:"Appearance:"}),(0,l.jsx)(em,{})]}),(0,l.jsxs)("div",{className:"setting-items",children:[(0,l.jsx)("span",{children:"Fullscreen:"}),(0,l.jsx)("div",{className:"ml-auto",children:(0,l.jsx)(eg,{})})]}),(0,l.jsxs)("div",{className:"setting-items my-2",children:[(0,l.jsx)("span",{children:"Username:"}),(0,l.jsx)("div",{className:"ml-auto flex-1 ",children:(0,l.jsx)(eh,{})})]}),(0,l.jsxs)("div",{className:"setting-items mb-2",children:[(0,l.jsx)("span",{className:"inline-block",children:"Output Vol:"}),(0,l.jsx)("div",{className:"ml-auto flex-1",children:(0,l.jsx)(eS,{})})]}),(0,l.jsxs)("div",{style:n?{}:{display:"block"},className:"setting-items",children:[(0,l.jsx)("span",{className:"inline-block".concat(!n&&" mb-1"),children:"Mic Sensitivity:"}),n?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"ml-auto flex-1 text-sm text-right",children:"Not available in Firefox"})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"px-5",children:(0,l.jsx)(eN,{})})})]})]})})},ek=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:640,[t,n]=(0,r.useState)(window.innerWidth<e);return(0,r.useEffect)(()=>{let t=()=>{n(window.innerWidth<e)};return window.addEventListener("resize",t),t(),()=>{window.removeEventListener("resize",t)}},[e]),t},ew=n(5097),eE=function(){let e=ek(),[t,n]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1),{socket:a,socketConnect:i}=A("http://discord.pouyaprogramming.ir/chat");(0,r.useEffect)(()=>{i()},[]);let c=D(e=>e.mainStatusSlice.joinedRoom);J(a),Z(a);let u=()=>{o(!s)};return(0,r.useEffect)(()=>{c||n(!1)},[c]),(0,r.useEffect)(()=>{e||n(!1)},[e]),(0,l.jsxs)(l.Fragment,{children:[s&&(0,l.jsx)(eC,{outClick:u}),(0,l.jsxs)("div",{className:"flex flex-col w-full h-full max-h-full absolute",children:[(0,l.jsx)("div",{style:{maxHeight:"calc(100% - 71px)"},className:"flex-1 py-4",children:(0,l.jsxs)("div",{style:{margin:"auto",width:"96%",maxWidth:"1600px",borderColor:"var(--n-600)"},className:"chat-channels-container flex justify-center rounded-xl overflow-hidden border h-full",children:[(0,l.jsxs)("div",{style:{width:t?"60px":"256px",transition:"all 0.3s"},className:"channels-container relative",children:[e&&t&&c&&(0,l.jsx)("div",{className:"absolute w-full h-full z-10 bg-black bg-opacity-65 fadeIn"}),(0,l.jsx)(es,{socket:a})]}),(0,l.jsxs)("div",{style:{width:"70px"},className:"chat-container flex-1 relative",children:[e&&c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{onClick:()=>{n(!t)},style:{backgroundColor:"var(--n-800)",color:"var(--foreground-color)",borderColor:"var(--n-600)",transform:"".concat(t?"translate(-40px,0px)":"")},className:"absolute left-0 z-20 top-1/2 text-3xl h-14 w-10 flex justify-center items-center border ".concat(t?"rounded-l-xl border-r-0":"rounded-r-xl border-l-0"),children:t?(0,l.jsx)(ee.MVT,{}):(0,l.jsx)(ew.jJE,{})}),!t&&(0,l.jsx)("div",{className:"absolute w-full h-full z-10 bg-black bg-opacity-65 fadeIn"})]}),c?(0,l.jsx)(eo,{socket:a},c):(0,l.jsx)(l.Fragment,{})]})]})}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)("div",{style:{borderColor:"var(--n-700)",backgroundColor:"var(--n-900)"},className:"flex py-4 w-80 rounded-t-3xl border md:border-b-0 max-sm:rounded-3xl",children:[(0,l.jsx)("div",{style:{fontSize:"27px",borderColor:"var(--n-600)"},className:"border-r p-1 px-4 ",children:(0,l.jsx)(ea.rzH,{className:"cursor-pointer",onClick:u})}),(0,l.jsx)("div",{className:"flex-1 flex justify-center items-center",children:(0,l.jsx)(X,{socket:a})})]})})]})]})},eA=function(e){let{callback:t}=e,[n,s]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{n.length>=3&&n.length<=15?a(!0):a(!1)},[n]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{type:"text",value:n,style:{borderColor:"var(--n-400)",backgroundColor:"var(--n-800)"},className:"w-full border rounded-lg px-3 py-1",placeholder:"Username...",spellCheck:"false",onChange:e=>s(e.currentTarget.value)}),(0,l.jsx)("div",{style:{color:o?"var(--background-color)":"var(--n-700)",backgroundColor:o?"var(--foreground-color)":"var(--n-400)",paddingTop:"1px",transition:"all 0.3s",cursor:o?"pointer":"default",pointerEvents:o?"auto":"none"},className:"text-sm font-bold rounded-lg px-3 py-1 inline-block mt-4",onClick:()=>{t(n)},children:"Submit"})]})},eF=n(8590);let eI=()=>({userName:"",clientId:""});var eT=function(e){let{children:t}=e,[n,r]=ex("name",eI());return(0,l.jsx)(l.Fragment,{children:n&&n.userName&&""!==n.userName?t:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"center-screen cont-full px-2",children:[(0,l.jsx)("p",{className:"mb-3",children:"Enter your name to join the server."}),(0,l.jsx)(eA,{callback:e=>{r({userName:e,clientId:(0,eF.Z)()})}})]})})})};let eM=(0,d.xC)({reducer:{mainStatusSlice:E}});var eR=function(e){let{children:t}=e;return(0,l.jsx)(o.zt,{store:eM,children:t})};function eD(){return(0,l.jsx)(eR,{children:(0,l.jsx)(s,{children:(0,l.jsx)(eT,{children:(0,l.jsx)(eu,{children:(0,l.jsx)(eE,{})})})})})}}},function(e){e.O(0,[665,51,452,706,516,240,779,660,971,23,744],function(){return e(e.s=1168)}),_N_E=e.O()}]);