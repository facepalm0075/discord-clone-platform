(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1168:function(e,t,l){Promise.resolve().then(l.bind(l,1421))},1421:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return eB}});var n=l(7437),r=l(2265),s=function(e){let{children:t}=e,[l,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{s(!0)},[]),(0,n.jsx)(n.Fragment,{children:l&&t})},o=l(1444),a=l(5040);let i=()=>{let e=new AudioContext,t=e.sampleRate;return e.close(),t},c=()=>JSON.parse(localStorage.getItem("name"));function u(e){return{getLocalState:t=>{{let t=localStorage.getItem(e);if(t)return JSON.parse(t)}return t},localStateSaver:t=>{localStorage.setItem(e,JSON.stringify(t))}}}var d=l(6862);let m=u("outputVolume"),x=u("micensitivity"),f={isMuted:!1,isConnected:!1,isDeafen:!1,rooms:[],joinedRoom:null,joinedRoomUsers:[],isTalking:!1,outputVolume:m.getLocalState(1),micensitivity:x.getLocalState(-50)},h=(0,d.oM)({name:"mainStatusState",initialState:f,reducers:{setIsConnected(e,t){e.isConnected=t.payload},setIsMuted(e,t){e.isMuted=t.payload},setIsDeafen(e,t){e.isDeafen=t.payload},toggleIsMuted(e,t){e.isMuted?e.isMuted=!1:e.isMuted=!0},toggleIsDeafen(e,t){e.isDeafen?e.isDeafen=!1:e.isDeafen=!0},setRooms(e,t){e.rooms=t.payload},setJoinedRoom(e,t){e.joinedRoom=t.payload},setJoinedRoomUsers(e,t){e.joinedRoomUsers=t.payload},setIsTalking(e,t){e.isTalking=t.payload},setOutputVolume(e,t){e.outputVolume=t.payload,m.localStateSaver(e.outputVolume)},setMicSensitivity(e,t){e.micensitivity=t.payload,x.localStateSaver(e.micensitivity)}}}),{setIsConnected:p,setIsMuted:g,setIsDeafen:v,toggleIsMuted:j,toggleIsDeafen:b,setJoinedRoom:S,setRooms:y,setJoinedRoomUsers:N,setIsTalking:C,setOutputVolume:k,setMicSensitivity:w}=h.actions;var E=h.reducer;let A=e=>{let[t,l]=(0,r.useState)(null),n=(0,o.I0)();return(0,r.useEffect)(()=>{fetch("https://discord-server.pouyaprogramming.ir/get-rooms",{method:"GET"}).then(e=>{e.json().then(e=>{n(y(JSON.parse(e).message))})})},[t]),{socket:t,socketConnect:()=>{l((0,a.ZP)(e))}}},F=async(e,t)=>{e.audioStream=await navigator.mediaDevices.getUserMedia({audio:{}}),e.audioContext=new AudioContext;let l=e.audioContext.createMediaStreamSource(e.audioStream);e.soundApiNode=e.audioContext.createScriptProcessor(256,1,1),l.connect(e.soundApiNode),e.soundApiNode.connect(e.audioContext.destination),e.soundApiNode.onaudioprocess=e=>{t(e.inputBuffer.getChannelData(0))}},I=async(e,t,l,n)=>{try{if(e.audioStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:24e3}}),e.audioContext=new AudioContext({sampleRate:24e3}),!e.audioContext.audioWorklet){console.error("Audio Worklet is not supported in this browser.");return}await e.audioContext.audioWorklet.addModule("audioProcessor.js"),e.soundApiNode=new AudioWorkletNode(e.audioContext,"audio-processor"),e.audioContext.createMediaStreamSource(e.audioStream).connect(e.soundApiNode),e.soundApiNode.connect(e.audioContext.destination),e.soundApiNode.port.postMessage({thresholdDb:n}),e.soundApiNode.port.onmessage=e=>{let{audioData:n,onStop:r}=e.data;r?l():t(n)}}catch(e){console.log("cant get mic accsess")}},M=()=>"undefined"!=typeof navigator&&/firefox/i.test(navigator.userAgent);async function R(e,t,l,n){!function(){try{return!!new(window.AudioContext||window.webkitAudioContext)().audioWorklet}catch(e){return console.error("Error while checking AudioWorklet support:",e),!1}}()?(console.error("AudioWorklet is not supported in this browser."),F(e,t)):(console.log("AudioWorklet is supported!"),M()?F(e,t):I(e,t,l,n)),console.log("Recording started.")}let T=o.I0.withTypes(),D=o.v9.withTypes();o.oR.withTypes();let{Encoder:O}=l(7969),W={audioContext:null,audioStream:null,soundApiNode:null},V=!1,U=null,z=-50,J=new O({rate:24e3,channels:1}),B=[],L=M(),P=null,q=e=>{let t=D(e=>e.mainStatusSlice.isMuted),l=D(e=>e.mainStatusSlice.isConnected),n=D(e=>e.mainStatusSlice.joinedRoom),s=D(e=>e.mainStatusSlice.micensitivity);z=s;let o=T(),a=(0,r.useRef)();U=n,V=t;let u=c(),d=()=>{o(C(!0)),void 0!==a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{o(C(!1))},250)},m=t=>{if(!V){let l=L?function(e,t,l){let n=t/24e3,r=Math.floor(e.length/n),s=new Float32Array(r);for(let t=0;t<r;t++)s[t]=e[Math.floor(t*n)];return s}(t,P,0):t;for(B.push(...l);B.length>=480;){let t=B.slice(0,480);B=B.slice(480);let l=J.encode(new Float32Array(t));null==e||e.emit("audio-input",l,U,u),d()}}},x=()=>{V||null==e||e.emit("audio-input-cancel",U,u)};(0,r.useEffect)(()=>{P=i()},[]),(0,r.useEffect)(()=>{l?(B=[],R(W,m,x,z)):(B=[],console.log("Stopping the recorder."),W.audioStream&&(W.audioStream.getTracks().forEach(e=>e.stop()),W.audioStream=null,console.log("Stopped all tracks in the stream")),W.audioContext&&(W.audioContext.close(),W.audioContext=null,console.log("Closed the audio context")),W.soundApiNode&&(W.soundApiNode.disconnect(),W.soundApiNode=null,console.log("The worklet node disconnected")))},[l]),(0,r.useEffect)(()=>{W.soundApiNode&&W.soundApiNode instanceof AudioWorkletNode&&W.soundApiNode.port.postMessage({thresholdDb:z})},[s])},Z=!1,H=1;var _=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Z=D(e=>e.mainStatusSlice.isDeafen),H=D(e=>e.mainStatusSlice.outputVolume);let t=(0,r.useRef)(null),l=(0,r.useRef)(new Map),[n,s]=(0,r.useState)(e.sampleRate||24e3),[o,a]=(0,r.useState)(e.bufferThreshold||24e3);(0,r.useEffect)(()=>(t.current||(t.current=new AudioContext({sampleRate:24e3}),s(24e3),a(12e3)),()=>{t.current&&(t.current.close(),t.current=null)}),[]);let i=(e,t)=>{if(Z){l.current.clear();return}l.current.has(t)||l.current.set(t,[]);let n=l.current.get(t);n&&n.push(e)},c=(0,r.useCallback)((e,t)=>{i(e,t);let n=l.current.get(t);n&&n.reduce((e,t)=>e+t.length,0)>=o&&u(t)},[o,H]),u=(0,r.useCallback)(e=>{if(!t.current)return;let r=t.current,s=r.createGain();s.gain.value=H,s.connect(r.destination),"suspended"===r.state&&r.resume().then(()=>{console.log("AudioContext resumed")}).catch(e=>{console.error("Failed to resume AudioContext",e)});let o=l.current.get(e);if(!o||0===o.length)return;let a=new Float32Array(o.reduce((e,t)=>e+t.length,0)),i=0;o.forEach(e=>{a.set(e,i),i+=e.length}),l.current.set(e,[]);let c=r.createBuffer(1,a.length,n);c.copyToChannel(a,0);let d=r.createBufferSource();d.buffer=c,d.connect(s),d.start(),d.onended=()=>{let t=l.current.get(e);t&&t.length>0&&u(e)}},[n,H]);return{pushAudioData:c,removeBufferByName:(0,r.useCallback)(e=>{l.current.has(e)&&l.current.delete(e)},[])}},G=l(6300).Buffer;let{Decoder:Q}=l(7969),K=!1,X=new Q({rate:24e3,channels:1}),$=e=>{K=D(e=>e.mainStatusSlice.isConnected);let{pushAudioData:t,removeBufferByName:l}=_({sampleRate:24e3,bufferThreshold:24e3});(0,r.useEffect)(()=>{null==e||e.on("audio-data",(e,l)=>{K&&t(X.decodeFloat32(G.from(e)),l.clientId)}),null==e||e.on("audio-input-canceled",e=>{l(e.clientId)})},[e])};var Y=l(3781),ee=l(6356),et=l(7692);let el=e=>{let[t,l]=(0,r.useState)(!1),n=(0,r.useRef)(null),s=(0,r.useRef)(null),o=(0,r.useRef)(null),a=(0,r.useCallback)(async()=>{if(!s.current)try{n.current||(n.current=new AudioContext);let t=await fetch(e),l=await t.arrayBuffer(),r=await n.current.decodeAudioData(l);s.current=r}catch(e){console.error("Error loading audio file:",e)}},[e]),i=(0,r.useCallback)(async()=>{if(s.current||await a(),!s.current||!n.current)return;let e=n.current.createBufferSource();e.buffer=s.current,e.connect(n.current.destination),e.start(0),o.current=e,l(!0),e.onended=()=>{l(!1)}},[a]),c=(0,r.useCallback)(()=>{o.current&&(o.current.stop(),o.current=null,l(!1))},[]),u=(0,r.useCallback)(async()=>{t?c():await i()},[t,i,c]);return{isPlaying:t,playAudio:i,stopAudio:c,toggleAudio:u}},en=()=>{let e=el("/djs.mp3"),t=el("/dds.mp3");return[()=>{e.playAudio()},()=>{t.playAudio()}]};var er=e=>{let{socket:t}=e,[l,r]=en(),s=D(e=>e.mainStatusSlice.isMuted),o=D(e=>e.mainStatusSlice.isDeafen),a=D(e=>e.mainStatusSlice.isConnected),i=D(e=>e.mainStatusSlice.joinedRoom),u=c(),d=T();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:o?{color:"red"}:{},className:"c-icon",onClick:()=>{d(b()),null==t||t.emit("user-status",{muted:s,deafen:!o})},children:o?(0,n.jsx)(ee.WO5,{}):(0,n.jsx)(ee.pw2,{})}),(0,n.jsx)("div",{style:s?{color:"red"}:{},className:"c-icon",onClick:()=>{d(j()),null==t||t.emit("user-status",{muted:!s,deafen:o}),null==t||t.emit("audio-input-cancel",i,u)},children:s?(0,n.jsx)(Y.C4C,{}):(0,n.jsx)(Y.OnQ,{})}),a&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"c-icon dc-icon",onClick:()=>{d(S(null)),null==t||t.emit("leave-joined-rooms"),d(p(!1)),r()},children:(0,n.jsx)(et.XL$,{})})})]})},es=function(e){let{status:t}=e;return(0,n.jsxs)("div",{className:"flex ml-auto gap-2 pr-2",children:[t.deafen&&(0,n.jsx)("span",{children:(0,n.jsx)(ee.WO5,{})}),t.muted&&(0,n.jsx)("span",{children:(0,n.jsx)(Y.C4C,{})})]})},eo=function(e){let{socket:t,userName:l}=e,[s,o]=(0,r.useState)(0),[a,i]=(0,r.useState)(!1),[u,d]=(0,r.useState)(()=>c()),m=(0,r.useRef)(u),x=(0,r.useRef)(a),f=(0,r.useRef)(),h=D(e=>e.mainStatusSlice.isTalking),p=()=>{x.current&&(i(!1),x.current=!1,o(e=>e+1))},g=()=>{x.current||(i(!0),x.current=!0,o(e=>e+1))},v=e=>{l.clientId===e&&(x.current?(clearTimeout(f.current),f.current=setTimeout(()=>{p()},250)):g())},j=()=>{h?g():p()};return(0,r.useEffect)(()=>{l.clientId!==m.current.clientId&&(null==t||t.on("audio-data",(e,t)=>{v(t.clientId)}),null==t||t.on("audio-input-canceled",e=>{l.clientId===e.clientId&&p()}))},[t]),(0,r.useEffect)(()=>{l.clientId===m.current.clientId&&j()},[h]),(0,n.jsx)("div",{style:a?{boxShadow:"0 0 0 2px lightGreen"}:{},className:"mr-2 rounded-full w-6 h-6 bg-neutral-500 flex justify-center items-center",children:(0,n.jsx)("span",{className:"text-white text-sm",children:l.userName[0].toUpperCase()})})},ea=l(1109);let ei=null,ec={},eu=[],ed=(e,t)=>(null==e?void 0:e.length)>(null==t?void 0:t.length)?1:(null==e?void 0:e.length)<(null==t?void 0:t.length)?0:2;var em=function(e){let{socket:t}=e,[l,s]=(0,r.useState)(eu),[o,a]=en(),i=D(e=>e.mainStatusSlice.rooms);ei=D(e=>e.mainStatusSlice.joinedRoom);let u=D(e=>e.mainStatusSlice.isMuted),d=D(e=>e.mainStatusSlice.isDeafen),m=c(),[x,f]=(0,r.useState)(0),h=T(),g=e=>{ei!==e&&(h(S(e)),null==t||t.emit("join-to",e,m,{muted:u,deafen:d}),h(p(!0)),f(e=>e+1))},v=e=>{e?o():a()},j=e=>{ec=e,f(e=>e+1);let t=[];if(ei){var l;null===(l=e[ei])||void 0===l||l.forEach(e=>{t.push(e.name)})}s(t)};return(0,r.useEffect)(()=>{null==t||t.on("rooms-status-changed",e=>{if(ei&&e[ei]){let t=ed(e[ei],ec[ei]);2!==t&&v(t)}j(e)}),null==t||t.on("user-status-changed",e=>{ec=e,f(e=>e+1)}),null==t||t.on("rooms-status",e=>{j(e)}),null==t||t.emit("get-rooms-status")},[t]),(0,r.useEffect)(()=>{h(N(l))},[l]),(0,n.jsxs)("div",{style:{backgroundColor:"var(--n-800)"},className:"min-w-64 w-64 p-3 h-full overflow-y-auto",children:[(0,n.jsx)("h2",{style:{color:"var(--black-white)"},className:"text-center block mb-4 font-bold",children:"..:: Voice Rooms ::.."}),null==i?void 0:i.map((e,l)=>{var r;return(0,n.jsxs)("div",{onClick:()=>g(e),children:[(0,n.jsxs)("div",{className:"flex gap-2 my-3 cursor-pointer",children:[(0,n.jsx)("div",{children:(0,n.jsx)(ea.MVT,{className:"text-2xl"})}),(0,n.jsxs)("div",{children:[" ",e]})]}),(0,n.jsx)("div",{className:"pl-6",children:null===(r=ec[e])||void 0===r?void 0:r.map(e=>(0,n.jsxs)("div",{className:"flex my-2 items-center",children:[(0,n.jsx)(eo,{socket:t,userName:e.name}),(0,n.jsx)("span",{className:"text-sm",children:e.name.userName}),(0,n.jsx)(es,{status:e.status})]},e.name.clientId))})]},l)})]})},ex=function(e){let{socket:t}=e,[l,s]=(0,r.useState)([]),[o,a]=(0,r.useState)(""),i=c(),u=D(e=>e.mainStatusSlice.joinedRoom),d=(0,r.useRef)(null),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];setTimeout(()=>{let l=d.current;if(l){if(t){l.scrollTop=l.scrollHeight;return}l.scrollTop+l.offsetHeight+e>=l.scrollHeight&&(l.scrollTop=l.scrollHeight)}},10)},x=(e,t,l)=>(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex gap-1 my-1 ".concat(l&&"justify-end"),children:[!l&&(0,n.jsx)("div",{style:{backgroundColor:"var(--n-800)"},className:"mt-auto rounded-full flex justify-center items-center h-8 w-8 min-w-8 min-h-8 font-bold",children:e.from[0].toUpperCase()}),(0,n.jsxs)("div",{style:{maxWidth:"80%",backgroundColor:l?"var(--n-600)":"var(--n-700)"},className:"p-2 rounded-lg",children:[(0,n.jsx)("div",{style:{color:"var(--black-white)"},className:" font-bold text-sm",children:e.from}),(0,n.jsx)("div",{className:"break-words",children:e.text})]}),l&&(0,n.jsx)("div",{style:{backgroundColor:"var(--n-800)"},className:"mt-auto rounded-full flex justify-center items-center h-8 w-8 min-w-8 min-h-8 font-bold",children:e.from[0].toUpperCase()})]})},t);(0,r.useEffect)(()=>{null==t||t.on("get-message",(e,t)=>{s(l=>[...l,{from:e.userName,text:t,self:!1}]),m()})},[t]);let f=()=>{null==t||t.emit("send-message",i,o,u),s(e=>[...e,{from:i.userName,text:o,self:!0}]),a(""),m()};return(0,n.jsxs)("div",{style:{backgroundColor:"var(--n-750)"},className:"h-full relative flex flex-col min-w-72",children:[(0,n.jsxs)("div",{style:{backgroundColor:"var(--n-600)"},className:" p-2 mb-2 font-bold text-sm",children:[u," Text Chat"]}),(0,n.jsx)("div",{ref:d,className:" px-2 overflow-y-auto flex-1 relative",children:0===l.length?(0,n.jsx)("div",{style:{backgroundColor:"var(--n-800)"},className:"center-screen rounded-md px-3 py-1 text-sm",children:"No message yet..."}):l.map((e,t)=>x(e,t,e.self))}),(0,n.jsx)("div",{className:"p-4 w-full ",children:(0,n.jsx)("input",{style:{borderColor:"var(--n-400)",backgroundColor:"var(--n-600)",color:"var(--black-white)"},spellCheck:"false",className:"w-full py-1 px-2 rounded border outline-none",placeholder:"Message",type:"text",value:o,onChange:e=>{a(e.target.value)},onKeyDown:e=>{13===e.keyCode&&f()}})})]})},ef=l(9824),eh=l(3872);let ep=(0,r.createContext)(void 0),eg=e=>{let{children:t}=e,[l,s]=(0,r.useState)("dark");(0,r.useEffect)(()=>{null!==localStorage.getItem("selectedTheme")&&("dark"===localStorage.getItem("selectedTheme")?o("dark"):o("light"))},[]);let o=e=>{var t;null===(t=document.querySelector("body"))||void 0===t||t.setAttribute("data-theme",e),localStorage.setItem("selectedTheme",e),s(e)};return(0,n.jsx)(ep.Provider,{value:{theme:l,toggleTheme:()=>{"dark"==l?o("light"):o("dark")}},children:t})},ev=()=>{let e=(0,r.useContext)(ep);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e};var ej=function(){let{theme:e,toggleTheme:t}=ev();return(0,n.jsx)("a",{onClick:t,className:"button ml-auto",children:"dark"===e?(0,n.jsx)(eh.Mei,{}):(0,n.jsx)(Y.gxG,{})})},eb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,[l,n]=(0,r.useState)(()=>{try{let l=localStorage.getItem(e);return l?JSON.parse(l):t}catch(l){return console.error("Error reading localStorage key:",e,l),t}});return(0,r.useEffect)(()=>{let l=()=>{try{let l=localStorage.getItem(e);n(l?JSON.parse(l):t)}catch(t){console.error("Error handling storage change for key:",e,t)}};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[e,t]),[l,t=>{try{null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),n(t)}catch(t){console.error("Error setting localStorage key:",e,t)}}]};let eS=()=>({userName:"",clientId:""});var ey=function(){let[e,t]=eb("name",eS()),[l,s]=(0,r.useState)(null==e?void 0:e.userName),[o,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{l&&e&&(e.userName!==l&&l.length>=3&&l.length<=15?a(!0):a(!1))},[l]),(0,n.jsxs)("div",{className:"flex pl-3 relative",children:[(0,n.jsx)("input",{style:{borderColor:"var(--n-400)",backgroundColor:"var(--n-800)"},type:"text",className:"w-full border rounded-lg pl-2 pr-12",placeholder:"",value:l,onChange:e=>{s(e.currentTarget.value)},spellCheck:"false"}),(0,n.jsx)("div",{style:{color:o?"var(--background-color)":"var(--n-700)",backgroundColor:o?"var(--foreground-color)":"var(--n-400)",paddingTop:"1px",transition:"all 0.3s",cursor:o?"pointer":"default",pointerEvents:o?"auto":"none"},className:"absolute right-0 text-sm font-bold h-full rounded-r-lg px-1",onClick:()=>{window.confirm("Do you want to refresh the page?")?(e&&t({...e,userName:l}),window.location.reload()):s(null==e?void 0:e.userName)},children:"save"})]})},eN=()=>{let[e,t]=(0,r.useState)(!1);return{isFullscreen:e,toggleFullscreen:()=>{let l=document.documentElement;e?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t(!1)):(l.requestFullscreen?l.requestFullscreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.msRequestFullscreen&&l.msRequestFullscreen(),t(!0))},exitFullscreen:()=>{e&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t(!1))}}},eC=function(){let{toggleFullscreen:e,isFullscreen:t}=eN();return(0,n.jsx)("a",{style:{fontSize:"25px"},onClick:()=>{e()},className:"ml-auto button",children:t?(0,n.jsx)(ee.bAO,{}):(0,n.jsx)(ee.yvD,{})})},ek=l(1538),ew=l(6101),eE=l(5632);function eA(){let e=100*D(e=>e.mainStatusSlice.outputVolume),t=T();return(0,n.jsxs)("div",{className:"flex relative pl-5 gap-1  justify-center items-center",children:[(0,n.jsx)("div",{className:"text-2xl",children:(0,n.jsx)(Y.w33,{})}),(0,n.jsx)(ek.Z,{sx:{width:"100%"},children:(0,n.jsx)(ew.Z,{spacing:2,direction:"row",sx:{alignItems:"center"},children:(0,n.jsx)(eE.ZP,{"aria-label":"Volume",max:200,value:e,onChange:(e,l)=>{t(k(l/100))},sx:{color:"var(--foreground-color)","& .MuiSlider-thumb":{backgroundColor:"var(--foreground-color)","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"none"}},"& .MuiSlider-track":{backgroundColor:"var(--foreground-color)"},"& .MuiSlider-rail":{backgroundColor:"var(--n-400)"}}})})}),(0,n.jsx)("div",{className:"text-2xl",children:(0,n.jsx)(Y.Uun,{})})]})}let eF=[{value:-70,label:"-70db"},{value:-50,label:"-50db"},{value:-30,label:"-30db"},{value:-10,label:"-10db"}];function eI(){let e=D(e=>e.mainStatusSlice.micensitivity),t=T();return(0,n.jsx)("div",{className:"sens-change",children:(0,n.jsx)(ek.Z,{sx:{width:"100%"},children:(0,n.jsx)(eE.ZP,{min:-70,max:-10,"aria-label":"Custom marks",value:e,step:1,marks:eF,onChange:(e,l)=>{t(w(l))},sx:{"& .MuiSlider-thumb":{"&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"none"}}}})})})}var eM=function(e){let{outClick:t}=e,l=M();return(0,n.jsx)("div",{onMouseDown:e=>{e.target===e.currentTarget&&t()},className:"absolute z-40 bg-opacity-50 bg-black h-full w-full fadeIn flex justify-center items-center",children:(0,n.jsxs)("div",{style:{borderColor:"var(--n-600)",backgroundColor:"var(--n-950)"},className:" cont-full  px-3 py-2 rounded-xl border z-50 fadeInScaleUp",children:[(0,n.jsxs)("div",{style:{borderColor:"var(--n-700)"},className:"flex justify-center items-center mb-4 pb-2 border-b",children:[(0,n.jsx)("span",{style:{color:"var(--n-600)"},className:"text-base",children:"Setting"}),(0,n.jsx)(ef.QAE,{className:"ml-auto cursor-pointer text-xl",onClick:t})]}),(0,n.jsxs)("div",{className:"setting-items",children:[(0,n.jsx)("span",{children:"Appearance:"}),(0,n.jsx)(ej,{})]}),(0,n.jsxs)("div",{className:"setting-items",children:[(0,n.jsx)("span",{children:"Fullscreen:"}),(0,n.jsx)("div",{className:"ml-auto",children:(0,n.jsx)(eC,{})})]}),(0,n.jsxs)("div",{className:"setting-items my-2",children:[(0,n.jsx)("span",{children:"Username:"}),(0,n.jsx)("div",{className:"ml-auto flex-1 ",children:(0,n.jsx)(ey,{})})]}),(0,n.jsxs)("div",{className:"setting-items mb-2",children:[(0,n.jsx)("span",{className:"inline-block",children:"Output Vol:"}),(0,n.jsx)("div",{className:"ml-auto flex-1",children:(0,n.jsx)(eA,{})})]}),(0,n.jsxs)("div",{style:l?{}:{display:"block"},className:"setting-items",children:[(0,n.jsx)("span",{className:"inline-block".concat(!l&&" mb-1"),children:"Mic Sensitivity:"}),l?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"ml-auto flex-1 text-sm text-right",children:"Not available in Firefox"})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"px-5",children:(0,n.jsx)(eI,{})})})]})]})})},eR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:640,[t,l]=(0,r.useState)(window.innerWidth<e);return(0,r.useEffect)(()=>{let t=()=>{l(window.innerWidth<e)};return window.addEventListener("resize",t),t(),()=>{window.removeEventListener("resize",t)}},[e]),t},eT=l(5097),eD=function(){let e=eR(),[t,l]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1),{socket:a,socketConnect:i}=A("https://discord-server.pouyaprogramming.ir/chat");(0,r.useEffect)(()=>{i()},[]);let c=D(e=>e.mainStatusSlice.joinedRoom);q(a),$(a);let u=()=>{o(!s)};return(0,r.useEffect)(()=>{c||l(!1)},[c]),(0,r.useEffect)(()=>{e||l(!1)},[e]),(0,n.jsxs)(n.Fragment,{children:[s&&(0,n.jsx)(eM,{outClick:u}),(0,n.jsxs)("div",{className:"flex flex-col w-full h-full max-h-full absolute",children:[(0,n.jsx)("div",{style:{maxHeight:"calc(100% - 71px)"},className:"flex-1 py-4",children:(0,n.jsxs)("div",{style:{margin:"auto",width:"96%",maxWidth:"1600px",borderColor:"var(--n-600)"},className:"chat-channels-container flex justify-center rounded-xl overflow-hidden border h-full",children:[(0,n.jsxs)("div",{style:{width:t?"60px":"256px",transition:"all 0.3s"},className:"channels-container relative",children:[e&&t&&c&&(0,n.jsx)("div",{className:"absolute w-full h-full z-10 bg-black bg-opacity-65 fadeIn"}),(0,n.jsx)(em,{socket:a})]}),(0,n.jsxs)("div",{style:{width:"70px"},className:"chat-container flex-1 relative",children:[e&&c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onClick:()=>{l(!t)},style:{backgroundColor:"var(--n-800)",color:"var(--foreground-color)",borderColor:"var(--n-600)",transform:"".concat(t?"translate(-40px,0px)":"")},className:"absolute left-0 z-20 top-1/2 text-3xl h-14 w-10 flex justify-center items-center border ".concat(t?"rounded-l-xl border-r-0":"rounded-r-xl border-l-0"),children:t?(0,n.jsx)(ea.MVT,{}):(0,n.jsx)(eT.jJE,{})}),!t&&(0,n.jsx)("div",{className:"absolute w-full h-full z-10 bg-black bg-opacity-65 fadeIn"})]}),c?(0,n.jsx)(ex,{socket:a},c):(0,n.jsx)(n.Fragment,{})]})]})}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("div",{style:{borderColor:"var(--n-700)",backgroundColor:"var(--n-900)"},className:"flex py-4 w-80 rounded-t-3xl border md:border-b-0 max-sm:rounded-3xl",children:[(0,n.jsx)("div",{style:{fontSize:"27px",borderColor:"var(--n-600)"},className:"border-r p-1 px-4 ",children:(0,n.jsx)(ef.rzH,{className:"cursor-pointer",onClick:u})}),(0,n.jsx)("div",{className:"flex-1 flex justify-center items-center",children:(0,n.jsx)(er,{socket:a})})]})})]})]})},eO=function(e){let{callback:t}=e,[l,s]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{l.length>=3&&l.length<=15?a(!0):a(!1)},[l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"text",value:l,style:{borderColor:"var(--n-400)",backgroundColor:"var(--n-800)"},className:"w-full border rounded-lg px-3 py-1",placeholder:"Username...",spellCheck:"false",onChange:e=>s(e.currentTarget.value)}),(0,n.jsx)("div",{style:{color:o?"var(--background-color)":"var(--n-700)",backgroundColor:o?"var(--foreground-color)":"var(--n-400)",paddingTop:"1px",transition:"all 0.3s",cursor:o?"pointer":"default",pointerEvents:o?"auto":"none"},className:"text-sm font-bold rounded-lg px-3 py-1 inline-block mt-4",onClick:()=>{t(l)},children:"Submit"})]})},eW=l(8590);let eV=()=>({userName:"",clientId:""});var eU=function(e){let{children:t}=e,[l,r]=eb("name",eV());return(0,n.jsx)(n.Fragment,{children:l&&l.userName&&""!==l.userName?t:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"center-screen cont-full px-2",children:[(0,n.jsx)("p",{className:"mb-3",children:"Enter your name to join the server."}),(0,n.jsx)(eO,{callback:e=>{r({userName:e,clientId:(0,eW.Z)()})}})]})})})};let ez=(0,d.xC)({reducer:{mainStatusSlice:E}});var eJ=function(e){let{children:t}=e;return(0,n.jsx)(o.zt,{store:ez,children:t})};function eB(){return(0,n.jsx)(eJ,{children:(0,n.jsx)(s,{children:(0,n.jsx)(eU,{children:(0,n.jsx)(eg,{children:(0,n.jsx)(eD,{})})})})})}}},function(e){e.O(0,[665,51,452,706,516,240,779,474,215,971,23,744],function(){return e(e.s=1168)}),_N_E=e.O()}]);